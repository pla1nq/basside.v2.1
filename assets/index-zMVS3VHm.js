(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))v(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&v(n)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function v(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}})();function E(){return new Promise(o=>{const s=document.querySelector("#loader");s.classList.add("is-active"),document.body.style.overflow="hidden";function a(){setTimeout(()=>{s.classList.remove("is-active"),document.body.style.overflow="",o()},800)}window.addEventListener("load",a)})}function w(){const o=document.querySelector(".burger-button"),s=document.querySelector(".mobile-nav"),a=s.querySelectorAll(".mobile-nav__link"),v=document.querySelectorAll(".header__menu-link"),e=[...a,...v],t=document.querySelectorAll("section[id]");let n=!1;function l(){s.classList.add("is-active"),o.classList.add("is-active"),document.body.classList.add("is-lock"),document.documentElement.classList.add("is-lock"),o.setAttribute("aria-expanded","true")}function f(){s.classList.remove("is-active"),o.classList.remove("is-active"),document.body.classList.remove("is-lock"),document.documentElement.classList.remove("is-lock"),o.setAttribute("aria-expanded","false")}function m(r){const i=document.querySelector(r);if(i){const c=document.querySelector(".header").offsetHeight,d=i.offsetTop-c-20;window.scrollTo({top:d,behavior:"smooth"})}}function u(){if(n)return;const r=window.scrollY+100;let i=!1;t.forEach(c=>{const d=c.offsetTop,p=c.offsetHeight;if(r>=d&&r<d+p){const y=c.getAttribute("id");e.forEach(b=>{const h=b.getAttribute("href")===`#${y}`;b.classList.toggle("is-active",h),h&&(i=!0)})}}),i||e.forEach(c=>c.classList.remove("is-active"))}o.addEventListener("click",()=>{s.classList.contains("is-active")?f():l()}),window.addEventListener("keydown",r=>{r.code==="Escape"&&f()}),e.forEach(r=>{r.addEventListener("click",i=>{i.preventDefault();const c=r.getAttribute("href");e.forEach(d=>d.classList.remove("is-active")),r.classList.add("is-active"),f(),n=!0,m(c),setTimeout(()=>{n=!1},800)})}),window.addEventListener("load",u),window.addEventListener("scroll",u)}function I(){const o=document.querySelector(".scroll-up");window.addEventListener("scroll",s);function s(){window.scrollY>=300?o.classList.add("is-active"):o.classList.remove("is-active")}o.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}function S({instant:o=!1}={}){const s=document.querySelectorAll("[data-js-animate]");if(o){s.forEach(t=>{t.classList.add("is-active")});return}const a={root:null,rootMargin:"0px 0px 0px 0px",threshold:.2},v=(t,n)=>{t.forEach(l=>{const f=l.target;l.isIntersecting&&(f.classList.add("is-active"),n.unobserve(f))})},e=new IntersectionObserver(v,a);s.forEach(t=>{e.observe(t)})}function _(){document.querySelectorAll("[data-js-tabs]").forEach(s=>{const a=s.querySelectorAll("[data-js-tabs-button]"),v=s.querySelectorAll("[data-js-tabs-content]");let e=[...a].findIndex(i=>i.classList.contains("is-active"));const t=a.length-1,n=()=>{a.forEach((i,c)=>{const d=c===e;i.classList.toggle("is-active",d),i.setAttribute("aria-selected",d),i.setAttribute("tabindex",d?"0":"-1")}),v.forEach((i,c)=>{i.classList.toggle("is-active",c===e)})},l=i=>{e=i,n(),a[i].focus()},f=()=>l(e===0?t:e-1),m=()=>l(e===t?0:e+1),u=()=>l(0),r=()=>l(t);a.forEach((i,c)=>{i.addEventListener("click",()=>l(c))}),s.addEventListener("keydown",i=>{const{code:c,metaKey:d}=i;if(d&&c==="ArrowLeft")return u();if(d&&c==="ArrowRight")return r();switch(c){case"ArrowLeft":f();break;case"ArrowRight":m();break;case"Home":u();break;case"End":r();break}}),n()})}const k=[{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"}],A=[{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"}],M=[{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"}],L={"Full Stories":[{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"},{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"}],Highlights:k,Reals:A,Teaser:M,"Love Stories":[{videoId:"LXb3EKWsInQ",src:"hero-bg.png",alt:"Love Story — Анна и Дмитрий"}]};function q(){const o=document.createElement("div");o.id="videoModal",o.className="video-modal",o.innerHTML=`
    <div class="video-modal__overlay"></div>
    <div class="video-modal__content">
      <button class="video-modal__close" aria-label="Close video">&times;</button>
      <iframe
        id="videoIframe"
        width="800"
        height="450"
        src=""
        frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen"
        allowfullscreen
      ></iframe>
    </div>
  `,document.body.appendChild(o);const s=o.querySelector("#videoIframe"),a=o.querySelector(".video-modal__overlay"),v=o.querySelector(".video-modal__close");function e(n){s.src=`https://www.youtube-nocookie.com/embed/${n}?autoplay=1&rel=0&modestbranding=1&iv_load_policy=3&disablekb=1`,o.classList.add("is-open"),document.body.style.overflow="hidden"}function t(){s.src="",o.classList.remove("is-open"),document.body.style.overflow=""}return v.addEventListener("click",t),a.addEventListener("click",t),e}const T="/basside.v2.1/assets/hero-bg-CsPP1hJl.png",g={"hero-bg.png":T};function K(){const o=q(),s=document.querySelectorAll("[data-js-tabs-content]"),a=document.querySelectorAll("[data-js-tabs-button]"),v=Object.keys(L);s.forEach((e,t)=>{const n=e.querySelector(".tabs__content-list"),l=L[v[t]]||[],f=l.slice(0,4),m=l.slice(4);if(n.innerHTML="",f.forEach(u=>{const r=document.createElement("li");r.className="tabs__content-item",r.innerHTML=`
        <article class="work-card" data-video-id="${u.videoId}">
          <figure class="work-card__figure">
            <img class="work-card__preview" src="${g[u.src]}" alt="${u.alt}" loading="lazy" />
            <button type="button" class="work-card__play" aria-label="Watch video">
              <svg class="work-card__play-icon">
                <use xlink:href="icons/sprites.svg#play"></use>
              </svg>
            </button>
          </figure>
        </article>
      `,n.appendChild(r),r.querySelector(".work-card").addEventListener("click",()=>o(u.videoId))}),m.length){const u=document.createElement("button");u.className="tabs__more-btn btn",u.textContent="More",n.after(u),u.addEventListener("click",()=>{m.forEach((r,i)=>{const c=document.createElement("li");c.className="tabs__content-item",c.innerHTML=`
            <article class="work-card is-hidden" data-video-id="${r.videoId}">
              <figure class="work-card__figure">
                <img class="work-card__preview" src="${g[r.src]}" alt="${r.alt}" loading="lazy" />
                <button type="button" class="work-card__play" aria-label="Watch video">
                  <svg class="work-card__play-icon">
                    <use xlink:href="icons/sprites.svg#play"></use>
                  </svg>
                </button>
              </figure>
            </article>
          `,n.appendChild(c);const d=c.querySelector(".work-card");d.addEventListener("click",()=>o(r.videoId)),setTimeout(()=>{d.classList.remove("is-hidden"),d.classList.add("is-visible")},i*100)}),u.remove()})}a[t].classList.contains("is-active")||e.classList.add("is-hidden")}),a.forEach((e,t)=>{e.setAttribute("type","button"),e.addEventListener("click",n=>{n.preventDefault(),a.forEach(l=>l.classList.remove("is-active")),e.classList.add("is-active"),s.forEach(l=>l.classList.add("is-hidden")),s[t].classList.remove("is-hidden")})})}E().then(()=>{w(),I(),S(),_(),K()});
